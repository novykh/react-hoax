<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: index.js /** * makeMemberHoax factory. * @namespace memberHoax * @see module:memberHoax.makeMemberProvider */ export { default as makeMemberHoax } from \"./member\"; /** * makeCollectionHoax factory. * @namespace collectionHoax * @see module:collectionHoax.makeCollectionProvider */ export { default as makeCollectionHoax } from \"./collection\"; × Search results Close "},"collection_makeReducer.js.html":{"id":"collection_makeReducer.js.html","title":"Source: collection/makeReducer.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: collection/makeReducer.js import * as actionTypes from \"../actionTypes\"; import * as resourceActionTypes from \"./resource/actionTypes\"; import { updateBatch } from \"../reducerUtils\"; /** * @typedef {Object} collectionHoax.ReducerWithInit * @property {function} reducer - the reducer to be used along with provider * @property {function} init - the function to initialize the reducer's state */ /** * @function collectionHoax.makeReducer * @access private * @param {function} getInitialState - a function that returns the initialState * @param {function} customReducer - a custom reducer * @return {collectionHoax.ReducerWithInit} */ export default ({ getInitialState, customReducer, resourceReducer, initResource }) =&gt; { const init = (state = {}) =&gt; ({ id, ...getInitialState(), ...state }); const updateOnlyResourceState = (state, id, payload) =&gt; { const prevResource = state.byId[id] || initResource(); return resourceReducer(prevResource, { id, ...payload }); }; const update = (state, attr, value) =&gt; { const id = attr.toString(); const ids = state.byId.hasOwnProperty(id) ? state.ids : [...state.ids, id]; return { ...state, byId: { ...state.byId, [id]: updateOnlyResourceState(state, id, { type: actionTypes.updateBatchResource, values: value }) }, ids }; }; const doneFetch = (state, resources) =&gt; { const ids = []; const byId = resources.reduce((h, resource) =&gt; { ids.push(resource.id); return { ...h, [resource.id]: updateOnlyResourceState(state, resource.id, { type: actionTypes.initializeResource, values: resource }) }; }, {}); return { ...state, byId: { ...state.byId, ...byId }, ids: [...new Set([...state.ids, ...ids])], loading: false, loaded: true }; }; const removeResource = (state, resourceId) =&gt; { const byId = delete state.byId[resourceId]; const ids = state.ids.filter(id =&gt; id !== resourceId); return { ...state, byId: { ...byId }, ids }; }; const updateResource = (state, { id, ...rest }) =&gt; { const resource = updateOnlyResourceState(state, id, rest); return { ...state, byId: { ...state.byId, [id]: resource } }; }; const reducer = (state, { type, ...payload }) =&gt; { if (customReducer === \"function\") customReducer(state, { type, ...payload }); switch (type) { case actionTypes.update: return update(state, payload.attr, payload.value); case actionTypes.updateBatch: return updateBatch(update, state, payload.values); case actionTypes.reset: return init(); case actionTypes.startFetch: return { ...state, loading: true }; case actionTypes.doneFetch: return doneFetch(state, payload.values); case actionTypes.failFetch: return { ...state, loading: false }; case resourceActionTypes.removeResource: return removeResource(state, payload.id); case resourceActionTypes.initializeResource: case resourceActionTypes.updateResource: case resourceActionTypes.updateBatchResource: case resourceActionTypes.resetResource: case resourceActionTypes.resetPristineResource: case resourceActionTypes.resetPristineKeyResource: case resourceActionTypes.startProcessResource: case resourceActionTypes.doneProcessResource: return updateResource(state, { type, ...payload }); default: return state; } }; return { reducer, init }; }; × Search results Close "},"collection_makeUseSelector.js.html":{"id":"collection_makeUseSelector.js.html","title":"Source: collection/makeUseSelector.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: collection/makeUseSelector.js import { useCallback } from \"react\"; import useContextSelector from \"../useContextSelector\"; import identity from \"lodash/identity\"; export const makeByIdSelector = id =&gt; state =&gt; state.byId[id]; /** * @typedef {Object} collectionHoax.Selectors * @property {function} useSelector - `useSelector(state =&gt; state)` select a part of state * @property {function} useResourceSelector - `useResourceSelector(id, state =&gt; state)` select a part of a resource's state (byId) * @property {function} useAction - `useAction('actionName')` select the action you need to dispatch for the member */ /** * @function collectionHoax.makeUseSelector * @access private * @param {object} StateCtx - the context with the member state * @param {object} DispatchCtx - the context with the member dispatches / actions * @return {collectionHoax.Selectors} */ export default (StateCtx, DispatchCtx) =&gt; ({ useSelector: (selector = identity) =&gt; useContextSelector(StateCtx, selector), useResourceSelector: (id, select = identity) =&gt; { const selector = useCallback( state =&gt; select(makeByIdSelector(id)(state)), [] ); return useContextSelector(StateCtx, selector); }, useAction: actionKey =&gt; useContextSelector(DispatchCtx, actions =&gt; actions[actionKey]) }); × Search results Close "},"collection_index.js.html":{"id":"collection_index.js.html","title":"Source: collection/index.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: collection/index.js import React from \"react\"; import useReducer from \"../useReducer\"; import defaultInitialState from \"./initialState\"; import defaultResourceInitialState from \"./resource/initialState\"; import * as actions from \"../actions\"; import * as resourceActions from \"./resource/actions\"; import makeContext from \"../makeContext\"; import makeGetInitialState from \"../makeGetInitialState\"; import makeReducer from \"./makeReducer\"; import makeUseCollection from \"../makeUseCollection\"; import makeUseMember from \"../makeUseMember\"; import makeFields from \"../makeFields\"; import makeUseSelector from \"./makeUseSelector\"; import makeResourceReducer from \"./resource/makeReducer\"; /** @module collectionHoax.makeCollectionProvider */ /** * @typedef {Object} CollectionHoax * @property {function} Provider - The collection context provider * @property {function} useMember - A react hook for * @property {function} useCollection - A react hook for * @property {collectionHoax.Selectors} * @property {object} Field */ /** * makeCollectionProvider factory. * @param {string} name - The name of the resource, will be used on the `displayName`. * @param {object} [options={}] - The collection options. * @param {object} options.initialState - The initialState of the collection, will be merged with the default collection hoax initialState. * @param {function} options.customReducer - `reducer(state, action)` An extra reducer for the collection, should return nothing on actionType mismatch, after passing through the custom reducer, it will go through the default collection hoax reducer. * @param {object} options.customActions - Extra actions, check the default hoax actions for collection and nested resources. * @param {object} options.resourceOptions - each nested resource's options * @param {object} options.resourceOptions.initialState - The initialState of the nested resource, will be merged with the default resource hoax initialState. * @param {function} options.resourceOptions.reducer - `reducer(state, action)` An extra reducer for the nested resource, should return nothing on actionType mismatch, after passing through the custom reducer, it will go through the default resource reducer. * @return {CollectionHoax} CollectionHoax - what is needed for a collection resource */ const makeCollectionProvider = ( name, { initialState, customReducer, customActions, resourceOptions = {} } = {} ) =&gt; { const getInitialState = makeGetInitialState({ initialState, defaultInitialState }); const getInitialResourceState = makeGetInitialState({ initialState: resourceOptions.initialState, defaultInitialState: defaultResourceInitialState }); const { reducer: resourceReducer, init: initResource } = makeResourceReducer( getInitialResourceState, resourceOptions.reducer ); const { reducer, init } = makeReducer({ getInitialState, customReducer, resourceReducer, initResource }); const [StateCtx, DispatchCtx] = makeContext(); const useCollection = makeUseCollection(StateCtx, DispatchCtx); const useMember = makeUseMember(StateCtx, DispatchCtx); const Field = makeFields(useMember); const { useSelector, useAction, useResourceSelector } = makeUseSelector( StateCtx, DispatchCtx ); const CollectionProvider = ({ children, extraArgument }) =&gt; { const [state, dispatches] = useReducer(reducer, { actions: { ...actions, ...resourceActions, ...customActions }, init: getInitialState, extraArgument }); return ( &lt;DispatchCtx.Provider value={dispatches}&gt; &lt;StateCtx.Provider value={state}&gt;{children}&lt;/StateCtx.Provider&gt; &lt;/DispatchCtx.Provider&gt; ); }; CollectionProvider.displayName = name; return { Provider: CollectionProvider, useCollection, useMember, useSelector, useAction, useResourceSelector, Field }; }; export default makeCollectionProvider; × Search results Close "},"makeUseMember_index.js.html":{"id":"makeUseMember_index.js.html","title":"Source: makeUseMember/index.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: makeUseMember/index.js import { useCallback } from \"react\"; import useContextSelector from \"../useContextSelector\"; import identity from \"lodash/identity\"; /** * @description A hook that handles the mutate operations on a state's member. * @example * const [title, setTitle, error, setError] = useMember({ * fieldKey: 'title' * }); * * setTitle('hello'); // state.title === 'hello' * setError('myError'); // state.errors.title === 'myError' */ const defaultGetUpdate = resourceId =&gt; state =&gt; resourceId ? state.updateResource : state.update; export default (StateCtx, DispatchCtx) =&gt; ({ fieldKey, resourceId, getUpdate = defaultGetUpdate, select = identity }) =&gt; { const selector = useCallback( state =&gt; { const member = resourceId ? select(resourceId)(state) : select(state); return [member[fieldKey], member.errors]; }, [resourceId, fieldKey] ); const [value, errors] = useContextSelector(StateCtx, selector); const updateSelector = useCallback( state =&gt; { const update = getUpdate(resourceId)(state); if (typeof update !== \"function\") throw new Error(\"useMember expects an 'update' dispatch function\"); return resourceId ? (key, v) =&gt; update(resourceId, key, v) : update; }, [resourceId] ); const update = useContextSelector(DispatchCtx, updateSelector); const setValue = useCallback(v =&gt; update(fieldKey, v), [update, fieldKey]); const error = errors[fieldKey]; const setError = useCallback( e =&gt; update(\"errors\", { ...errors, [fieldKey]: e }), [update, errors] ); return [value, setValue, error, setError]; }; × Search results Close "},"useObservers_index.js.html":{"id":"useObservers_index.js.html","title":"Source: useObservers/index.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: useObservers/index.js import { useEffect, useRef } from \"react\"; import usePrevious from \"../usePrevious\"; import isEqual from \"lodash/isEqual\"; import identity from \"lodash/identity\"; /** * @description Hooks for observing any kind of store and dispatch actions according to state changes * @example * const Foo = () =&gt; { * const [state, setState] = useState({id: '1', title: ''}); * useObservers(state, [makeObserver(s =&gt; dispatchSomeAction(s))]); * * // or specify the part of state to check * useObservers(state, [makeObserver(s =&gt; dispatchSomeAction(s), s =&gt; s.title)]); * * return &lt;button onClick={() =&gt; setState(s =&gt; {...s, title: 'new title'})}&gt;Abort fetching&lt;/button&gt;; * } */ export const makeObserver = (dispatch, getStateToCheck = identity) =&gt; ( state, prevState ) =&gt; { if (!prevState) return; const previous = getStateToCheck(prevState); const current = getStateToCheck(state); if (!isEqual(previous, current)) dispatch(state); }; export default (state, observers) =&gt; { const hasObservers = Array.isArray(observers); const previousState = usePrevious(state); const observersRef = useRef(); useEffect(() =&gt; { observersRef.current = hasObservers ? observers : []; observersRef.current.forEach(func =&gt; func(state, previousState)); return () =&gt; (observersRef.current = []); }, [state]); }; × Search results Close "},"makeUseCollection_index.js.html":{"id":"makeUseCollection_index.js.html","title":"Source: makeUseCollection/index.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: makeUseCollection/index.js import { useCallback } from \"react\"; import identity from \"lodash/identity\"; import makeUseMember from \"../makeUseMember\"; /** * @description A hook that handles the CRUD operations on a state's collection. * @example * const {collection, add, push, edit, remove, error, setError} = useCollection({ * fieldKey: 'skills' * }); * * push('my'); // collection [my] * add(0, 'hello'); // collection[hello, my] * add(1, 'world'); // collection[hello, world, my] * edit(2, 'sorry'); // collection[hello, world, sorry] * remove(2); // collection[hello, world] */ const makeWithUniq = (uniq = false) =&gt; { if (!uniq) return identity; return collection =&gt; [...new Set(collection)]; }; export default (StateCtx, DispatchCtx) =&gt; { const useMember = makeUseMember(StateCtx, DispatchCtx); return ({ fieldKey, resourceId, uniq, getUpdate, select }) =&gt; { const [collection, setCollection, error, setError] = useMember({ fieldKey, resourceId, getUpdate, select }); const normalize = makeWithUniq(uniq); const remove = useCallback( index =&gt; { if (index &lt; 0 || index &gt;= collection.length) return; setCollection( normalize([ ...collection.slice(0, index), ...collection.slice(index + 1) ]) ); }, [collection] ); const edit = useCallback( (index, value) =&gt; { if (index &lt; 0 || index &gt;= collection.length) return; setCollection( normalize([ ...collection.slice(0, index), value, ...collection.slice(index + 1) ]) ); }, [collection] ); const add = useCallback( (index, value) =&gt; { if (index &lt; 0) return; setCollection( normalize([ ...collection.slice(0, index), value, ...collection.slice(index) ]) ); }, [collection] ); const push = useCallback(value =&gt; add(collection.length, value), [ collection ]); const reorder = useCallback( (startIndex, endIndex) =&gt; { if (startIndex &lt; 0 || startIndex &gt;= collection.length) return; if (endIndex &lt; 0 || endIndex &gt;= collection.length) return; const mutable = [...collection]; const [removed] = mutable.splice(startIndex, 1); mutable.splice(endIndex, 0, removed); setCollection(normalize(mutable)); }, [collection] ); return { collection, set: setCollection, add, push, edit, remove, reorder, error, setError }; }; }; × Search results Close "},"member_initialState.js.html":{"id":"member_initialState.js.html","title":"Source: member/initialState.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: member/initialState.js /** * @constant memberHoax.initialState * @access private * @default { loading: true, loaded: false, processing: false, errors: {} } */ export default { loading: true, loaded: false, processing: false, errors: {} }; × Search results Close "},"member_makeReducer.js.html":{"id":"member_makeReducer.js.html","title":"Source: member/makeReducer.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: member/makeReducer.js import isNil from \"lodash/isNil\"; import makePristine from \"../makePristine\"; import { updateBatch } from \"../reducerUtils\"; import * as actionTypes from \"../actionTypes\"; /** * @typedef {Object} memberHoax.ReducerWithInit * @property {function} reducer - the reducer to be used along with provider * @property {function} init - the function to initialize the reducer's state */ /** * @function memberHoax.makeReducer * @access private * @param {function} getInitialState - a function that returns the initialState * @param {function} customReducer - a custom reducer * @return {memberHoax.ReducerWithInit} */ export default (getInitialState, customReducer) =&gt; { const { getInitialPristineState, updatePristine, removePristine } = makePristine(\"pristine\"); const init = (state = {}) =&gt; ({ ...getInitialState(), ...state, ...getInitialPristineState() }); const getValidValue = (attr, value) =&gt; isNil(value) ? getInitialState()[attr] : value; const update = (state, attr, value) =&gt; { value = getValidValue(attr, value); state = updatePristine(state, attr, value); return { ...state, [attr]: value }; }; const reducer = (state, { type, ...payload }) =&gt; { if (customReducer === \"function\") customReducer(state, { type, ...payload }); switch (type) { case actionTypes.initialize: return init(payload.values); case actionTypes.update: return update(state, payload.attr, payload.value); case actionTypes.updateBatch: return updateBatch(update, state, payload.values); case actionTypes.reset: return init(); case actionTypes.resetPristine: return removePristine(state); case actionTypes.resetPristineKey: return removePristine(state, payload.attr); case actionTypes.startProcess: return { ...state, processing: true }; case actionTypes.doneProcess: return { ...state, processing: false }; default: return state; } }; return { reducer, init }; }; × Search results Close "},"member_makeUseSelector.js.html":{"id":"member_makeUseSelector.js.html","title":"Source: member/makeUseSelector.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: member/makeUseSelector.js import useContextSelector from \"../useContextSelector\"; import identity from \"lodash/identity\"; /** * @typedef {Object} memberHoax.Selectors * @property {function} useSelector - `useSelector(state =&gt; state)` select a part of member's state * @property {function} useAction - `useAction('actionName')` select the action you need to dispatch for the member */ /** * @function memberHoax.makeUseSelector * @access private * @param {object} StateCtx - the context with the member state * @param {object} DispatchCtx - the context with the member dispatches / actions * @return {memberHoax.Selectors} */ export default (StateCtx, DispatchCtx) =&gt; ({ useSelector: (selector = identity) =&gt; useContextSelector(StateCtx, selector), useAction: actionKey =&gt; useContextSelector(DispatchCtx, actions =&gt; actions[actionKey]) }); × Search results Close "},"member_index.js.html":{"id":"member_index.js.html","title":"Source: member/index.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: member/index.js import React from \"react\"; import useReducer from \"../useReducer\"; import * as actions from \"../actions\"; import makeContext from \"../makeContext\"; import makeGetInitialState from \"../makeGetInitialState\"; import makeReducer from \"./makeReducer\"; import makeUseMember from \"../makeUseMember\"; import makeUseCollection from \"../makeUseCollection\"; import makeFields from \"../makeFields\"; import makeUseSelector from \"./makeUseSelector\"; import defaultInitialState from \"./initialState\"; /** @module memberHoax.makeMemberProvider */ /** * @typedef {Object} MemberHoax * @property {function} Provider - The member context provider * @property {function} useMember - A react hook for * @property {function} useCollection - A react hook for * @property {function} useSelector - A react hook for * @property {function} useAction - A react hook for * @property {object} Field */ /** * makeMemberProvider factory. * @param {string} name - The name of the resource, will be used on the `displayName`. * @param {object} [options={}] - The resource options. * @param {object} options.initialState - The initialState of the resource, will be merged with the default member hoax initialState. * @param {function} options.customReducer - `reducer(state, action)` An extra reducer for the resource, should return nothing on actionType mismatch, after passing through the custom reducer, it will go through the default member hoax reducer. * @param {object} options.customActions - Extra actions, check the default hoax actions for member. * @return {MemberHoax} MemberHoax - what is needed for a member resource */ const makeMemberProvider = ( name, { initialState, customReducer, customActions } = {} ) =&gt; { const getInitialState = makeGetInitialState({ initialState, defaultInitialState }); const { reducer, init } = makeReducer(getInitialState, customReducer); const [StateCtx, DispatchCtx] = makeContext(); const useMember = makeUseMember(StateCtx, DispatchCtx); const useCollection = makeUseCollection(StateCtx, DispatchCtx); const Field = makeFields(useMember); const { useSelector, useAction } = makeUseSelector(StateCtx, DispatchCtx); const MemberProvider = ({ children, extraArgument }) =&gt; { const [state, dispatches] = useReducer(reducer, { init, actions: { ...actions, ...customActions }, extraArgument }); return ( &lt;DispatchCtx.Provider value={dispatches}&gt; &lt;StateCtx.Provider value={state}&gt;{children}&lt;/StateCtx.Provider&gt; &lt;/DispatchCtx.Provider&gt; ); }; MemberProvider.displayName = name; return { Provider: MemberProvider, useMember, useCollection, useSelector, useAction, Field }; }; export default makeMemberProvider; × Search results Close "},"useReducer_index.js.html":{"id":"useReducer_index.js.html","title":"Source: useReducer/index.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: useReducer/index.js import { useReducer, useRef } from \"react\"; import useObservers from \"../useObservers\"; import identity from \"lodash/identity\"; const connect = (action, dispatch, getState, args, extraArgument) =&gt; { if (typeof action !== \"function\") return dispatch(action); const next = action(...args); if (typeof next === \"function\") return next(dispatch, getState, extraArgument); return dispatch(next); }; /** * @description A hook for creating a reducer and have access to its state and all actions to update it * @example * const Foo = () =&gt; { * const [state, dispatches] = useReducer(reducer, { * initialState: {foo: 'bar'}, * actions: {baz} * }); * * return ( * &lt;button onClick={dispatches.baz}&gt;{state.foo}&lt;/button&gt; * ); * } */ export default ( reducer, { initialState, init = identity, actions = {}, observers, extraArgument } ) =&gt; { const [state, dispatch] = useReducer(reducer, initialState, init); const stateRef = useRef(); stateRef.current = state; useObservers(state, observers); const dispatchRef = useRef(); if (dispatchRef.current) return [state, dispatchRef.current]; const getState = () =&gt; stateRef.current; dispatchRef.current = Object.keys(actions).reduce( (h, action) =&gt; ({ ...h, [action]: (...args) =&gt; connect( actions[action], dispatch, getState, args, extraArgument ) }), { dispatch } ); return [state, dispatchRef.current]; }; × Search results Close "},"collection_initialState.js.html":{"id":"collection_initialState.js.html","title":"Source: collection/initialState.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: collection/initialState.js /** * @module collection/initialState * @access private * @default { loading: true, loaded: false, processing: true, byId: {}, ids: [] } */ export default { loading: true, loaded: false, processing: true, byId: {}, ids: [] }; × Search results Close "},"usePrevious_index.js.html":{"id":"usePrevious_index.js.html","title":"Source: usePrevious/index.js","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Source: usePrevious/index.js import { useRef, useEffect } from \"react\"; /** * @description A hook for keeping the previous state of a value * @example * const Foo = ({bar}) =&gt; { * const previousBarRef = usePrevious(bar); * * return ( * &lt;Fragment&gt; * it was {previousBarRef.current} and became {bar} * &lt;button onClick={changeBar}&gt;Change bar&lt;/button&gt; * &lt;/Fragment&gt; * ); * } */ const usePrevious = value =&gt; { const valueRef = useRef(); useEffect(() =&gt; { valueRef.current = value; }, [value]); return valueRef.current; }; export default (value, ...rest) =&gt; { if (rest.length) return rest.reduce((h, val) =&gt; [...h, usePrevious(val)], [ usePrevious(value) ]); return usePrevious(value); }; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Global Members &lt;constant&gt; makeObserver Hooks for observing any kind of store and dispatch actions according to state changes Source: useObservers/index.js, line 20 Example const Foo = () =&gt; { const [state, setState] = useState({id: '1', title: ''}); useObservers(state, [makeObserver(s =&gt; dispatchSomeAction(s))]); // or specify the part of state to check useObservers(state, [makeObserver(s =&gt; dispatchSomeAction(s), s =&gt; s.title)]); return &lt;button onClick={() =&gt; setState(s =&gt; {...s, title: 'new title'})}&gt;Abort fetching&lt;/button&gt;; } Methods defaultGetUpdate() A hook that handles the mutate operations on a state's member. Source: makeUseMember/index.js, line 15 Example const [title, setTitle, error, setError] = useMember({ fieldKey: 'title' }); setTitle('hello'); // state.title === 'hello' setError('myError'); // state.errors.title === 'myError' makeWithUniq() A hook that handles the CRUD operations on a state's collection. Source: makeUseCollection/index.js, line 19 Example const {collection, add, push, edit, remove, error, setError} = useCollection({ fieldKey: 'skills' }); push('my'); // collection [my] add(0, 'hello'); // collection[hello, my] add(1, 'world'); // collection[hello, world, my] edit(2, 'sorry'); // collection[hello, world, sorry] remove(2); // collection[hello, world] usePrevious() A hook for keeping the previous state of a value Source: usePrevious/index.js, line 18 Example const Foo = ({bar}) =&gt; { const previousBarRef = usePrevious(bar); return ( &lt;Fragment&gt; it was {previousBarRef.current} and became {bar} &lt;button onClick={changeBar}&gt;Change bar&lt;/button&gt; &lt;/Fragment&gt; ); } × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Modules Namespaces collectionHoax memberHoax × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Namespaces Namespaces collectionHoax memberHoax × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious React Hoax Idiomatic resourceful context. Installation React Hoax requires React 16.8.3 or later. npm install --save react-hoax This assumes that you’re using npm package manager with a module bundler like Webpack or Browserify to consume CommonJS modules. If you don’t yet use npm or a modern module bundler, and would rather prefer a single-file UMD build that makes ReactRedux available as a global object, you can grab a pre-built version from cdnjs. We don’t recommend this approach for any serious application, as most of the libraries complementary to React Hoax are only available on npm. Enjoy! License MIT × Search results Close "},"collectionHoax.html":{"id":"collectionHoax.html","title":"Namespace: collectionHoax","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Namespace: collectionHoax collectionHoax makeCollectionHoax factory. Source: index.js, line 8 See: module:collectionHoax.makeCollectionProvider Methods &lt;private, static&gt; makeReducer(getInitialState, customReducer) Parameters: Name Type Description getInitialState function a function that returns the initialState customReducer function a custom reducer Source: collection/makeReducer.js, line 11 Returns: Type collectionHoax.ReducerWithInit &lt;private, static&gt; makeUseSelector(StateCtx, DispatchCtx) Parameters: Name Type Description StateCtx object the context with the member state DispatchCtx object the context with the member dispatches / actions Source: collection/makeUseSelector.js, line 14 Returns: Type collectionHoax.Selectors Type Definitions ReducerWithInit Type: Object Properties: Name Type Description reducer function the reducer to be used along with provider init function the function to initialize the reducer's state Source: collection/makeReducer.js, line 5 Selectors Type: Object Properties: Name Type Description useSelector function useSelector(state =&gt; state) select a part of state useResourceSelector function useResourceSelector(id, state =&gt; state) select a part of a resource's state (byId) useAction function useAction('actionName') select the action you need to dispatch for the member Source: collection/makeUseSelector.js, line 7 × Search results Close "},"collectionHoax.module_makeCollectionProvider.html":{"id":"collectionHoax.module_makeCollectionProvider.html","title":"Module: makeCollectionProvider","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Module: makeCollectionProvider Source: collection/index.js, line 16 Methods &lt;inner&gt; makeCollectionProvider(name [, options]) makeCollectionProvider factory. Parameters: Name Type Argument Default Description name string The name of the resource, will be used on the displayName. options object &lt;optional&gt; {} The collection options. Properties Name Type Description initialState object The initialState of the collection, will be merged with the default collection hoax initialState. customReducer function reducer(state, action) An extra reducer for the collection, should return nothing on actionType mismatch, after passing through the custom reducer, it will go through the default collection hoax reducer. customActions object Extra actions, check the default hoax actions for collection and nested resources. resourceOptions object each nested resource's options Properties Name Type Description initialState object The initialState of the nested resource, will be merged with the default resource hoax initialState. reducer function reducer(state, action) An extra reducer for the nested resource, should return nothing on actionType mismatch, after passing through the custom reducer, it will go through the default resource reducer. Source: collection/index.js, line 40 Returns: CollectionHoax - what is needed for a collection resource Type CollectionHoax Type Definitions CollectionHoax Type: Object Properties: Name Type Description Provider function The collection context provider useMember function A react hook for useCollection function A react hook for collectionHoax.Selectors Field object Source: collection/index.js, line 18 × Search results Close "},"memberHoax.html":{"id":"memberHoax.html","title":"Namespace: memberHoax","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Namespace: memberHoax memberHoax makeMemberHoax factory. Source: index.js, line 1 See: module:memberHoax.makeMemberProvider Members &lt;private, static, constant&gt; initialState Default Value: { loading: true, loaded: false, processing: false, errors: {} } Source: member/initialState.js, line 1 Methods &lt;private, static&gt; makeReducer(getInitialState, customReducer) Parameters: Name Type Description getInitialState function a function that returns the initialState customReducer function a custom reducer Source: member/makeReducer.js, line 12 Returns: Type memberHoax.ReducerWithInit &lt;private, static&gt; makeUseSelector(StateCtx, DispatchCtx) Parameters: Name Type Description StateCtx object the context with the member state DispatchCtx object the context with the member dispatches / actions Source: member/makeUseSelector.js, line 10 Returns: Type memberHoax.Selectors Type Definitions ReducerWithInit Type: Object Properties: Name Type Description reducer function the reducer to be used along with provider init function the function to initialize the reducer's state Source: member/makeReducer.js, line 6 Selectors Type: Object Properties: Name Type Description useSelector function useSelector(state =&gt; state) select a part of member's state useAction function useAction('actionName') select the action you need to dispatch for the member Source: member/makeUseSelector.js, line 4 × Search results Close "},"memberHoax.module_makeMemberProvider.html":{"id":"memberHoax.module_makeMemberProvider.html","title":"Module: makeMemberProvider","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Module: makeMemberProvider Source: member/index.js, line 13 Methods &lt;inner&gt; makeMemberProvider(name [, options]) makeMemberProvider factory. Parameters: Name Type Argument Default Description name string The name of the resource, will be used on the displayName. options object &lt;optional&gt; {} The resource options. Properties Name Type Description initialState object The initialState of the resource, will be merged with the default member hoax initialState. customReducer function reducer(state, action) An extra reducer for the resource, should return nothing on actionType mismatch, after passing through the custom reducer, it will go through the default member hoax reducer. customActions object Extra actions, check the default hoax actions for member. Source: member/index.js, line 35 Returns: MemberHoax - what is needed for a member resource Type MemberHoax Type Definitions MemberHoax Type: Object Properties: Name Type Description Provider function The member context provider useMember function A react hook for useCollection function A react hook for useSelector function A react hook for useAction function A react hook for Field object Source: member/index.js, line 15 × Search results Close "},"module-collection_initialState.html":{"id":"module-collection_initialState.html","title":"Module: collection/initialState","body":" React Hoax Namespaces collectionHoaxmemberHoax Modules collectionHoax.makeCollectionProvidermemberHoax.makeMemberProvidercollection/initialState Global defaultGetUpdatemakeObservermakeWithUniqusePrevious Module: collection/initialState Default Value: { loading: true, loaded: false, processing: true, byId: {}, ids: [] } Source: collection/initialState.js, line 1 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
